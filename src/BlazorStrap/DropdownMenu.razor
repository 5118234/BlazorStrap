@inherits BootstrapComponentBase

<DynamicElement Attributes="@UnknownParameters" TagName="div" class="@classname">
    @ChildContent
</DynamicElement>

@code {
string classname
{
    get
    {
        var open = "";
        if (IsOpen == null)
        {
            if (DropDownMenuControl == null)
            {
                open = null;
            }
            else
            {
                open = DropDownMenuControl.Handler.IsOpen(DropDownMenuControl.Id) ? "show" : null;
            }
        }
        else
        {
            open = (bool)IsOpen ? "show" : null;
        }
        return $"dropdown-menu {open} {Class}";
    }
}
[Parameter] private bool? IsOpen { get; set; }
[Parameter] private string Class { get; set; }
[Parameter] private RenderFragment ChildContent { get; set; }
[CascadingParameter] private DropDownMenuControl DropDownMenuControl { get; set; }
}
